# ========= Crypto Settings =========
market: crypto
symbols: ["BTC/USDT"]         # Default symbol, can be changed
interval: "30m"               # 30 minute timeframe
start: "2025-07-20"           # Last 6 months from Jan 2026
end:   "2026-01-21"           # Current date

commission_bps: 8             # Coinbase Advanced Taker (approx)
slippage_bps: 3
max_gross_leverage: 1.0

risk:
  stop_loss_pct: 0.03         # Fixed 3%
  take_profit_pct: 0.03       # Fixed 3%

position:
  mode: "fixed"               # Or "vol_target". Strategy says "No dynamic position sizing"
  size_pct: 0.95              # Use 95% of cash per trade (single position)

strategy:
  name: "lwpi_tdfi"
  lwpi_period: 135
  lwpi_smooth: 8
  tdfi_lookback: 21
  tdfi_mma: 5
  tdfi_smma: 15
  tdfi_n: 5

backtest:
  initial_cash: 1000
  benchmark: "BTC/USDT"

metrics:
  periods_per_year: 17520     # 30m candles: 24 * 2 * 365 = 17520
  rf: 0.0

execution:
  exec_mode: "close_to_next_open" 
  # Note: "On candle close only" implies signal is close, trade is open of next?
  # Or trade at close? Backtest engines usually trade next open.
  # User said "Signal evaluation: On candle close only".
  
  max_turnover_per_bar: 1.0
  min_notional: 10.0
